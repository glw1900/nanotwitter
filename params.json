{"name":"Nanotwitter","tagline":"software engineering for scalability   ","body":"### Welcome to HugeTwitter Page\r\nThis is our Huge Twitter github page, we have supported a lot of functionalities of the original twitter and we are still moving on, including posting twitter, timeline, following, unfollowing, commenting, retweet.\r\n\r\nPlease visit our website at http:/hugetwitter.herokuapp.com, and register, have fun!\r\n\r\n\r\n### Technology Description\r\nThis App is built on Ruby Sinatra with ActiveRcord and a psql database. All the tests are written with MiniTest. We also adopted New Relic as our performance management tool.\r\n\r\nWe adopt redis to cache data that requires comparatively high cost in querying in database and yet are requested frequently, such as 50 most recent twitters and timeline of recent login users.\r\n\r\nWeBrick and Puma: We use WeBrick for the server, because the Puma is actually slower in our server.\r\n\r\n\r\nRead into comments table for every twitter is quite a cost. We noticed that most twitters might not have comments, therefore there is no need to query in the comments table every time. Then we labeled every tweet as 1 or 0, when tweets are created, the label is set to 0, then if a comment is made, we change the label to 1. Thus every time we first check the label of a twitter, if it’s labeled 0 then we check in the comment table.\r\n### Screen Shot\r\n![1](http://i.imgur.com/ZBOzhve.jpg)\r\n![2](http://i.imgur.com/oqBOp1F.jpg)\r\n![3](http://i.imgur.com/yzSx46b.jpg)\r\n\r\n### Interesting Engineering\r\nIn addiction to the requirement, We implemented commenting and retweeting.\r\n\r\n### Result of scalability work, timings etc.\r\n\r\nCASE 1: 100 users, 500 tweets by test user, 30 followers.\r\n‘/’ — maintain client load:\r\nThe system crashes when the client load comes to around 2100 clients per sec. \r\n‘/user/testuser’ — maintain client load:\r\nThe system crashes when the client load comes to around 800 clients per sec. \r\n‘/user/testuser/tweet’ — clients per second:\r\nThe system crashes when the client load comes to around 1500 clients per sec.\r\n\r\nCASE 2 : 500 users, 500 tweets by test user, 100 followers.\r\n‘/’ — maintain client load:\r\nThe system crashes when the client load comes to around 1700 clients per sec.\r\n‘/user/testuser’ — maintain client load:\r\nThe system crashes when the client load comes to around 750 clients per sec.\r\n‘/user/testuser/tweet’ — clients per second:\r\nThe system crashes when the client load comes to around 1500 clients per sec.\r\n\r\nCASE 3 : 2000 users, 3000 tweets by test user, 1000 followers.\r\n‘/’ — maintain client load:\r\nThe system crashes when the client load comes to around 2352 clients per sec.\r\n‘/user/testuser’ — maintain client load:\r\nThe system crashes when the client load comes to around 650 clients per sec.\r\n‘/user/testuser/tweet’ — clients per second:\r\nThe system crashes when the client load comes to around 1300 clients per sec.\r\n\r\nTeam members\r\nMeiyue Song, Liangwei Guo, Jishan Li, Tianzhi Chen","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}